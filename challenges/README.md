# Contributing to the Game Lab Quest
The sequence of gamelab challenges is known as the quest.

# What's in this folder?

## The Challenges themselves
This folder contains a number of challenges in this format:
```
0-jumpstart.json
1-crisis-averted.json
```
Each challenge begins with an index, which allows for the challenges to be consistently ordered.

Following the index is the name. The dashes are replaced with spaces before being shown to the user.

### I can't drop these `.json` files into Game Lab!?
At the moment, the JSON files that the "export" button returns have a different format than the share links that the challenges use.

However, exporting to this format is still quite easy.
Simply go to:
`https://project-bucket-hackclub.s3.eu-west-1.amazonaws.com/<id>.json`, where <id> is the same as one in a Game Lab share link.

You can copy paste the content of one of those links into a file (or simply curl the link).


## quest.js
This file contains an array of challenges. It is included into dispatch.js. It stores a display name and a share link for each challenge. The display name is shown in gamelab's challenge dropdown. The share link is the gamelab save that is loaded when the associated name in the dropdown is selected. This file is automatically generated by a helper script.

## Helper Scripts
There are a number of helper scripts in this directory.

### genQuest.js
One, called `genQuest.js`, compiles all of the JSON files for each challenge into a fresh quest.js. This involves uploading each of them onto Game Lab's S3 bucket, so that a share link for each challenge can be stored.

It can be invoked like so:
`challenges $ deno run --allow-read --allow-net genQuest.js`

### migration.js
This script is an example of how to programmatically modify all of the challenge content. This can be useful for updating their save files to point to a new editor version, or changing the boilerplate at the top of each challenge's code.

Currently the script updates each challenge to the most up-to-date version number, as well as making sure the name of the challenge matches the filepath.

It simply modifies the JSON content of each challenge, so make sure to invoke `genQuest.js` afterwards so that the editor will have an updated list to show the user.

It can be invoked like so:
`challenges $ deno run --allow-write --allow-read migration.js`

### increment-names.json
This helper script is useful when you're inserting a challenge somewhere into the sequence and need to "make room" for it by moving up all the existing challenges.

For example, if you want to make a challenge that will be fourth in the sequence, simply run

`challenges $ deno run --allow-write --allow-read increment-names.js 4`.

then the challenge labelled "04-..." becomes "05-...", "05-..." becomes "06-..." and there will be a gap at 04, where you can slot in your new challenge.
